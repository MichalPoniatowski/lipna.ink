import{r as n,d as Yt,u as Gt,e as Ee,j as z,f as qt}from"./index-UOJzUYaI.js";import{s as Qt,a as Jt,b as Zt,c as en,d as le}from"./selectors-gallery-BmdM6Ozv.js";const dt="carousel",ft="controller",tn="navigation",nn="no-scroll",Fe="portal",rn="root",pt="toolbar",Me="loading",Te="error",Ae="complete",on="placeholder",sn=e=>`active-slide-${e}`,ht="flex_center",cn="no_scroll",mt="no_scroll_padding",ln="slide_wrapper",Q="prev",J="next",Je="swipe",te="close",vt="onPointerDown",gt="onPointerMove",Et="onPointerUp",xt="onPointerLeave",_t="onPointerCancel",bt="onKeyDown",an="onKeyUp",Ct="onWheel",un="Escape",dn="ArrowLeft",fn="ArrowRight",pn="button",$e="icon",Pt="contain",Ze="cover",hn="Unknown action type",Nt="yarl__";function Y(...e){return[...e].filter(Boolean).join(" ")}function N(e){return`${Nt}${e}`}function U(e){return`--${Nt}${e}`}function ae(e,t){return`${e}${t?`_${t}`:""}`}function Be(e){return t=>ae(e,t)}function mn(e,t){var r;return(r=e==null?void 0:e[t])!==null&&r!==void 0?r:t}function wt(...e){return()=>{e.forEach(t=>{t()})}}function ne(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function Lt(){return typeof window<"u"}function vn(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function It(e){return e.type===void 0||e.type==="image"}function gn(e,t){return e.imageFit===Ze||e.imageFit!==Pt&&t===Ze}function be(e){return typeof e=="string"?Number.parseInt(e,10):e}function _e(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=be(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function En(e,t){const r=_e(t),o=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*o,0),height:Math.max(e.height-2*o,0)}}function St(e,t){return t>0?(e%t+t)%t:0}function yt(e){return e.length>0}function Rt(e,t){return e[St(t,e.length)]}function Ue(e,t){return yt(e)?Rt(e,t):void 0}function xn(e){return It(e)?e.src:void 0}function _n(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const Ve={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[te]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Pt,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function Z(e,t){return{name:e,component:t}}function T(e,t){return{module:e,children:t}}function Ot(e,t,r){return e.module.name===t?r(e):e.children?[T(e.module,e.children.flatMap(o=>{var s;return(s=Ot(o,t,r))!==null&&s!==void 0?s:[]}))]:[e]}function ee(e,t,r){return e.flatMap(o=>{var s;return(s=Ot(o,t,r))!==null&&s!==void 0?s:[]})}function bn(e,t=[],r=[]){let o=e;const s=h=>{const p=[...o];for(;p.length>0;){const l=p.pop();if((l==null?void 0:l.module.name)===h)return!0;l!=null&&l.children&&p.push(...l.children)}return!1},c=(h,p)=>{if(h===""){o=[T(p,o)];return}o=ee(o,h,l=>[T(p,[l])])},i=(h,p)=>{o=ee(o,h,l=>[T(l.module,[T(p,l.children)])])},a=(h,p,l)=>{o=ee(o,h,m=>{var L;return[T(m.module,[...l?[T(p)]:[],...(L=m.children)!==null&&L!==void 0?L:[],...l?[]:[T(p)]])]})},f=(h,p,l)=>{o=ee(o,h,m=>[...l?[T(p)]:[],m,...l?[]:[T(p)]])},u=h=>{i(ft,h)},v=(h,p)=>{o=ee(o,h,l=>[T(p,l.children)])},g=h=>{o=ee(o,h,p=>p.children)},w=h=>{r.push(h)};return t.forEach(h=>{h({contains:s,addParent:c,append:i,addChild:a,addSibling:f,addModule:u,replace:v,remove:g,augment:w})}),{config:o,augmentation:h=>r.reduce((p,l)=>l(p),h)}}const Mt=n.createContext(null),Ce=ne("useEvents","EventsContext",Mt);function Cn({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(o=>delete t[o])},[t]);const r=n.useMemo(()=>{const o=(i,a)=>{var f;(f=t[i])===null||f===void 0||f.splice(0,t[i].length,...t[i].filter(u=>u!==a))};return{publish:(...[i,a])=>{var f;(f=t[i])===null||f===void 0||f.forEach(u=>u(a))},subscribe:(i,a)=>(t[i]||(t[i]=[]),t[i].push(a),()=>o(i,a)),unsubscribe:o}},[t]);return n.createElement(Mt.Provider,{value:r},e)}const Tt=n.createContext(null),ue=ne("useLightboxProps","LightboxPropsContext",Tt);function Pn({children:e,...t}){return n.createElement(Tt.Provider,{value:t},e)}const At=n.createContext(null),Pe=ne("useLightboxState","LightboxStateContext",At),kt=n.createContext(null),Nn=ne("useLightboxDispatch","LightboxDispatchContext",kt);function wn(e,t){switch(t.type){case"swipe":{const{slides:r}=e,o=(t==null?void 0:t.increment)||0,s=e.globalIndex+o,c=St(s,r.length),i=Ue(r,c),a=o||t.duration?{increment:o,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:c,globalIndex:s,currentSlide:i,animation:a}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Ue(t.slides,t.index)}:e;default:throw new Error(hn)}}function Ln({slides:e,index:t,children:r}){const[o,s]=n.useReducer(wn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Ue(e,t)});n.useEffect(()=>{s({type:"update",slides:e,index:t})},[e,t]);const c=n.useMemo(()=>({...o,state:o,dispatch:s}),[o,s]);return n.createElement(kt.Provider,{value:s},n.createElement(At.Provider,{value:c},r))}const Dt=n.createContext(null),Ne=ne("useTimeouts","TimeoutsContext",Dt);function In({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(o=>window.clearTimeout(o)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const o=i=>{t.splice(0,t.length,...t.filter(a=>a!==i))};return{setTimeout:(i,a)=>{const f=window.setTimeout(()=>{o(f),i()},a);return t.push(f),f},clearTimeout:i=>{i!==void 0&&(o(i),window.clearTimeout(i))}}},[t]);return n.createElement(Dt.Provider,{value:r},e)}const Wt=n.forwardRef(function({label:t,className:r,icon:o,renderIcon:s,onClick:c,style:i,...a},f){const{styles:u,labels:v}=ue();return n.createElement("button",{ref:f,type:"button","aria-label":mn(v,t),className:Y(N(pn),r),onClick:c,style:{...i,...u.button},...a},s?s():n.createElement(o,{className:N($e),style:u.icon}))});function Sn(e,t){const r=o=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},t);return r.displayName=e,r}function de(e,t){return Sn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const yn=de("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Rn=de("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),On=de("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Mn=de("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),Tn=de("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),re=Lt()?n.useLayoutEffect:n.useEffect;function $t(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,o;const s=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(s==null?void 0:s.matches);const c=i=>t(i.matches);return(o=s==null?void 0:s.addEventListener)===null||o===void 0||o.call(s,"change",c),()=>{var i;return(i=s==null?void 0:s.removeEventListener)===null||i===void 0?void 0:i.call(s,"change",c)}},[]),e}function An(e){let t=0,r=0,o=0;const c=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(c){const i=c[1].split(",").map(be);i.length===6?(t=i[4],r=i[5]):i.length===16&&(t=i[12],r=i[13],o=i[14])}return{x:t,y:r,z:o}}function et(e,t){const r=n.useRef(),o=n.useRef(),s=$t();return re(()=>{var c,i,a;if(e.current&&r.current!==void 0&&!s){const{keyframes:f,duration:u,easing:v,onfinish:g}=t(r.current,e.current.getBoundingClientRect(),An(e.current))||{};if(f&&u){(c=o.current)===null||c===void 0||c.cancel(),o.current=void 0;try{o.current=(a=(i=e.current).animate)===null||a===void 0?void 0:a.call(i,f,{duration:u,easing:v})}catch(w){console.error(w)}o.current&&(o.current.onfinish=()=>{o.current=void 0,g==null||g()})}}r.current=void 0}),{prepareAnimation:c=>{r.current=c},isAnimationPlaying:()=>{var c;return((c=o.current)===null||c===void 0?void 0:c.playState)==="running"}}}function Ut(){const e=n.useRef(null),t=n.useRef(),[r,o]=n.useState();return{setContainerRef:n.useCallback(c=>{e.current=c,t.current&&(t.current.disconnect(),t.current=void 0);const i=()=>{if(c){const a=window.getComputedStyle(c),f=u=>parseFloat(u)||0;o({width:Math.round(c.clientWidth-f(a.paddingLeft)-f(a.paddingRight)),height:Math.round(c.clientHeight-f(a.paddingTop)-f(a.paddingBottom))})}else o(void 0)};i(),c&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(i),t.current.observe(c))},[]),containerRef:e,containerRect:r}}function xe(){const e=n.useRef(),{setTimeout:t,clearTimeout:r}=Ne();return n.useCallback((o,s)=>{r(e.current),e.current=t(o,s>0?s:0)},[t,r])}function M(e){const t=n.useRef(e);return re(()=>{t.current=e}),n.useCallback((...r)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...r)},[])}function tt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function nt(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{tt(e,r),tt(t,r)},[e,t])}function kn(e,t=!1){const r=n.useRef();re(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const o=n.useCallback(()=>{r.current=!0},[]),s=n.useCallback(()=>{r.current=!1},[]);return{onFocus:o,onBlur:s}}function He(){const[e,t]=n.useState(!1);return re(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Dn(){const[e]=n.useState({}),t=n.useCallback((s,c)=>{var i;(i=e[s])===null||i===void 0||i.forEach(a=>{c.isPropagationStopped()||a(c)})},[e]),r=n.useMemo(()=>({onPointerDown:s=>t(vt,s),onPointerMove:s=>t(gt,s),onPointerUp:s=>t(Et,s),onPointerLeave:s=>t(xt,s),onPointerCancel:s=>t(_t,s),onKeyDown:s=>t(bt,s),onKeyUp:s=>t(an,s),onWheel:s=>t(Ct,s)}),[t]),o=n.useCallback((s,c)=>(e[s]||(e[s]=[]),e[s].unshift(c),()=>{const i=e[s];i&&i.splice(0,i.length,...i.filter(a=>a!==c))}),[e]);return{registerSensors:r,subscribeSensors:o}}function rt(e,t){const r=n.useRef(0),o=xe(),s=M((...c)=>{r.current=Date.now(),e(c)});return n.useCallback((...c)=>{o(()=>{s(c)},t-(Date.now()-r.current))},[t,s,o])}const ke=Be("slide"),De=Be("slide_image");function Wn({slide:e,offset:t,render:r,rect:o,imageFit:s,imageProps:c,onClick:i,onLoad:a,style:f}){var u,v,g,w,h,p,l;const[m,L]=n.useState(Me),{publish:C}=Ce(),{setTimeout:R}=Ne(),D=n.useRef(null);n.useEffect(()=>{t===0&&C(sn(m))},[t,m,C]);const _=M(b=>{("decode"in b?b.decode():Promise.resolve()).catch(()=>{}).then(()=>{b.parentNode&&(L(Ae),R(()=>{a==null||a(b)},0))})}),P=n.useCallback(b=>{D.current=b,b!=null&&b.complete&&_(b)},[_]),S=n.useCallback(b=>{_(b.currentTarget)},[_]),A=n.useCallback(()=>{L(Te)},[]),E=gn(e,s),x=(b,j)=>Number.isFinite(b)?b:j,I=x(Math.max(...((v=(u=e.srcSet)===null||u===void 0?void 0:u.map(b=>b.width))!==null&&v!==void 0?v:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((g=D.current)===null||g===void 0?void 0:g.naturalWidth)||0),F=x(Math.max(...((h=(w=e.srcSet)===null||w===void 0?void 0:w.map(b=>b.height))!==null&&h!==void 0?h:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((p=D.current)===null||p===void 0?void 0:p.naturalHeight)||0),$=I&&F?{maxWidth:`min(${I}px, 100%)`,maxHeight:`min(${F}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},G=(l=e.srcSet)===null||l===void 0?void 0:l.sort((b,j)=>b.width-j.width).map(b=>`${b.src} ${b.width}w`).join(", "),O=()=>o&&!E&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,we=G&&o&&Lt()?`${Math.round(Math.min(O(),o.width))}px`:void 0,{style:B,className:pe,...Le}=c||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:P,onLoad:S,onError:A,onClick:i,draggable:!1,className:Y(N(De()),E&&N(De("cover")),m!==Ae&&N(De("loading")),pe),style:{...$,...f,...B},...Le,alt:e.alt,sizes:we,srcSet:G,src:e.src}),m!==Ae&&n.createElement("div",{className:N(ke(on))},m===Me&&(r!=null&&r.iconLoading?r.iconLoading():n.createElement(Mn,{className:Y(N($e),N(ke(Me)))})),m===Te&&(r!=null&&r.iconError?r.iconError():n.createElement(Tn,{className:Y(N($e),N(ke(Te)))}))))}var k;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(k||(k={}));function $n(e,t,r,o,s){n.useEffect(()=>s?()=>{}:wt(e(vt,t),e(gt,r),e(Et,o),e(xt,o),e(_t,o)),[e,t,r,o,s])}var H;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(H||(H={}));const We=30;function Un(e,t,r,o,s,c,i,a,f,u,v,g,w,h){const p=n.useRef(0),l=n.useRef([]),m=n.useRef(),L=n.useRef(0),C=n.useRef(H.NONE),R=n.useCallback(E=>{m.current===E.pointerId&&(m.current=void 0,C.current=H.NONE);const x=l.current;x.splice(0,x.length,...x.filter(I=>I.pointerId!==E.pointerId))},[]),D=n.useCallback(E=>{R(E),E.persist(),l.current.push(E)},[R]),_=M(E=>{D(E)}),P=(E,x)=>u&&E>x||f&&E<-x,S=M(E=>{if(l.current.find(x=>x.pointerId===E.pointerId)&&m.current===E.pointerId){const x=Date.now()-L.current,I=p.current;C.current===H.SWIPE?Math.abs(I)>.3*r||Math.abs(I)>5&&x<o?i(I,x):a(I):C.current===H.PULL&&(P(I,2*We)?w(I,x):h(I)),p.current=0,C.current=H.NONE}R(E)}),A=M(E=>{const x=l.current.find(I=>I.pointerId===E.pointerId);if(x){const I=m.current===E.pointerId;if(E.buttons===0){I&&p.current!==0?S(E):R(x);return}const F=E.clientX-x.clientX,$=E.clientY-x.clientY;if(m.current===void 0){const G=O=>{D(E),m.current=E.pointerId,L.current=Date.now(),C.current=O};Math.abs(F)>Math.abs($)&&Math.abs(F)>We&&t(F)?(G(H.SWIPE),s()):Math.abs($)>Math.abs(F)&&P($,We)&&(G(H.PULL),v())}else I&&(C.current===H.SWIPE?(p.current=F,c(F)):C.current===H.PULL&&(p.current=$,g($)))}});$n(e,_,A,S)}function Vn({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=M(s=>{const c=Math.abs(s.deltaX)>Math.abs(s.deltaY);(c&&e||!c&&t||s.ctrlKey)&&s.preventDefault()});return n.useCallback(s=>{var c;s?s.addEventListener("wheel",o,{passive:!1}):(c=r.current)===null||c===void 0||c.removeEventListener("wheel",o),r.current=s},[o])}function Fn(e,t,r,o,s,c,i,a,f){const u=n.useRef(0),v=n.useRef(0),g=n.useRef(),w=n.useRef(),h=n.useRef(0),p=n.useRef(0),{setTimeout:l,clearTimeout:m}=Ne(),L=n.useCallback(()=>{g.current&&(m(g.current),g.current=void 0)},[m]),C=n.useCallback(()=>{w.current&&(m(w.current),w.current=void 0)},[m]),R=M(()=>{e!==k.SWIPE&&(u.current=0,p.current=0,L(),C())});n.useEffect(R,[e,R]);const D=M(P=>{w.current=void 0,u.current===P&&f(u.current)}),_=M(P=>{if(!P.ctrlKey&&!(Math.abs(P.deltaY)>Math.abs(P.deltaX)))if(e===k.NONE){if(Math.abs(P.deltaX)<=1.2*Math.abs(h.current)){h.current=P.deltaX;return}if(!r(-P.deltaX))return;if(v.current+=P.deltaX,L(),Math.abs(v.current)>30)v.current=0,h.current=0,p.current=Date.now(),c();else{const S=v.current;g.current=l(()=>{g.current=void 0,S===v.current&&(v.current=0)},s)}}else if(e===k.SWIPE){let S=u.current-P.deltaX;if(S=Math.min(Math.abs(S),o)*Math.sign(S),u.current=S,i(S),C(),Math.abs(S)>.2*o){h.current=P.deltaX,a(S,Date.now()-p.current);return}w.current=l(()=>D(S),2*s)}else h.current=P.deltaX});n.useEffect(()=>t(Ct,_),[t,_])}const ot=Be("container"),Vt=n.createContext(null),fe=ne("useController","ControllerContext",Vt);function Bn({children:e,...t}){var r;const{carousel:o,animation:s,controller:c,on:i,styles:a,render:f}=t,{closeOnPullUp:u,closeOnPullDown:v,preventDefaultWheelX:g,preventDefaultWheelY:w}=c,[h,p]=n.useState(),l=Pe(),m=Nn(),[L,C]=n.useState(k.NONE),R=n.useRef(0),D=n.useRef(0),_=n.useRef(1),{registerSensors:P,subscribeSensors:S}=Dn(),{subscribe:A,publish:E}=Ce(),x=xe(),I=xe(),F=xe(),{containerRef:$,setContainerRef:G,containerRect:O}=Ut(),we=nt(Vn({preventDefaultWheelX:g,preventDefaultWheelY:w}),G),B=n.useRef(null),pe=nt(B,void 0),Le=He(),b=d=>(Le?-1:1)*(typeof d=="number"?d:1),j=M(()=>{var d;return(d=$.current)===null||d===void 0?void 0:d.focus()}),Xe=M(()=>t),Ke=M(()=>l),he=n.useCallback(d=>E(Q,d),[E]),me=n.useCallback(d=>E(J,d),[E]),oe=n.useCallback(()=>E(te),[E]),Ie=d=>!(o.finite&&(b(d)>0&&l.currentIndex===0||b(d)<0&&l.currentIndex===l.slides.length-1)),je=d=>{var y;R.current=d,(y=$.current)===null||y===void 0||y.style.setProperty(U("swipe_offset"),`${Math.round(d)}px`)},Se=d=>{var y,W;D.current=d,_.current=(()=>{const ie=v&&d>0?d:u&&d<0?-d:0;return Math.min(Math.max(vn(1-ie/60*(1-.5),2),.5),1)})(),(y=$.current)===null||y===void 0||y.style.setProperty(U("pull_offset"),`${Math.round(d)}px`),(W=$.current)===null||W===void 0||W.style.setProperty(U("pull_opacity"),`${_.current}`)},{prepareAnimation:Ht}=et(B,(d,y,W)=>{if(B.current&&O)return{keyframes:[{transform:`translate(0, ${d.rect.y-y.y+W.y}px)`,opacity:d.opacity},{transform:"translate(0, 0)",opacity:1}],duration:d.duration,easing:s.easing.fade}}),ze=(d,y)=>{if(u||v){Se(d);let W=0;B.current&&(W=s.fade*(y?2:1),Ht({rect:B.current.getBoundingClientRect(),opacity:_.current,duration:W})),F(()=>{Se(0),C(k.NONE)},W),C(k.ANIMATION),y||oe()}},{prepareAnimation:Xt,isAnimationPlaying:Kt}=et(B,(d,y,W)=>{var X;if(B.current&&O&&(!((X=l.animation)===null||X===void 0)&&X.duration)){const V=_e(o.spacing),ie=(V.percent?V.percent*O.width/100:V.pixel)||0;return{keyframes:[{transform:`translate(${b(l.globalIndex-d.index)*(O.width+ie)+d.rect.x-y.x+W.x}px, 0)`},{transform:"translate(0, 0)"}],duration:l.animation.duration,easing:l.animation.easing}}}),se=M(d=>{var y,W;const X=d.offset||0,V=X?s.swipe:(y=s.navigation)!==null&&y!==void 0?y:s.swipe,ie=!X&&!Kt()?s.easing.navigation:s.easing.swipe;let{direction:ve}=d;const ge=(W=d.count)!==null&&W!==void 0?W:1;let ye=k.ANIMATION,K=V*ge;if(!ve){const ce=O==null?void 0:O.width,Qe=d.duration||0,Oe=ce?V/ce*Math.abs(X):V;ge!==0?(Qe<Oe?K=K/Oe*Math.max(Qe,Oe/5):ce&&(K=V/ce*(ce-Math.abs(X))),ve=b(X)>0?Q:J):K=V/2}let Re=0;ve===Q?Ie(b(1))?Re=-ge:(ye=k.NONE,K=V):ve===J&&(Ie(b(-1))?Re=ge:(ye=k.NONE,K=V)),K=Math.round(K),I(()=>{je(0),C(k.NONE)},K),B.current&&Xt({rect:B.current.getBoundingClientRect(),index:l.globalIndex}),C(ye),E(Je,{type:"swipe",increment:Re,duration:K,easing:ie})});n.useEffect(()=>{var d,y;!((d=l.animation)===null||d===void 0)&&d.increment&&(!((y=l.animation)===null||y===void 0)&&y.duration)&&x(()=>m({type:"swipe",increment:0}),l.animation.duration)},[l.animation,m,x]);const Ye=[S,Ie,(O==null?void 0:O.width)||0,s.swipe,()=>C(k.SWIPE),d=>je(d),(d,y)=>se({offset:d,duration:y,count:1}),d=>se({offset:d,count:0})],jt=[()=>{v&&C(k.PULL)},d=>Se(d),d=>ze(d),d=>ze(d,!0)];Un(...Ye,u,v,...jt),Fn(L,...Ye);const Ge=M(()=>{c.focus&&document.querySelector(`.${N(Fe)} .${N(ot())}`)&&j()});n.useEffect(Ge,[Ge]);const qe=M(()=>{var d;(d=i.view)===null||d===void 0||d.call(i,{index:l.currentIndex})});n.useEffect(qe,[l.globalIndex,qe]),n.useEffect(()=>wt(A(Q,d=>se({direction:Q,...d})),A(J,d=>se({direction:J,...d})),A(Je,d=>m(d))),[A,se,m]);const zt=n.useMemo(()=>({prev:he,next:me,close:oe,focus:j,slideRect:O?En(O,o.padding):{width:0,height:0},containerRect:O||{width:0,height:0},subscribeSensors:S,containerRef:$,setCarouselRef:pe,toolbarWidth:h,setToolbarWidth:p}),[he,me,oe,j,S,O,$,pe,h,p,o.padding]);return n.useImperativeHandle(c.ref,()=>({prev:he,next:me,close:oe,focus:j,getLightboxProps:Xe,getLightboxState:Ke}),[he,me,oe,j,Xe,Ke]),n.createElement("div",{ref:we,className:Y(N(ot()),N(ht)),style:{...L===k.SWIPE?{[U("swipe_offset")]:`${Math.round(R.current)}px`}:null,...L===k.PULL?{[U("pull_offset")]:`${Math.round(D.current)}px`,[U("pull_opacity")]:`${_.current}`}:null,...c.touchAction!=="none"?{[U("controller_touch_action")]:c.touchAction}:null,...a.container},...c.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...P},O&&n.createElement(Vt.Provider,{value:zt},e,(r=f.controls)===null||r===void 0?void 0:r.call(f)))}const Hn=Z(ft,Bn);function q(e){return ae(dt,e)}function st(e){return ae("slide",e)}function Xn({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o}=Pe(),{slideRect:s,close:c}=fe(),{render:i,carousel:{imageFit:a,imageProps:f},on:{click:u},controller:{closeOnBackdropClick:v},styles:{slide:g}}=ue(),w=()=>{var p,l,m,L;let C=(p=i.slide)===null||p===void 0?void 0:p.call(i,{slide:e,offset:t,rect:s});return!C&&It(e)&&(C=n.createElement(Wn,{slide:e,offset:t,render:i,rect:s,imageFit:a,imageProps:f,onClick:t===0?()=>u==null?void 0:u({index:o}):void 0})),C?n.createElement(n.Fragment,null,(l=i.slideHeader)===null||l===void 0?void 0:l.call(i,{slide:e}),((m=i.slideContainer)!==null&&m!==void 0?m:({children:R})=>R)({slide:e,children:C}),(L=i.slideFooter)===null||L===void 0?void 0:L.call(i,{slide:e})):null},h=p=>{const l=r.current,m=p.target instanceof HTMLElement?p.target:void 0;v&&m&&l&&(m===l||Array.from(l.children).find(L=>L===m)&&m.classList.contains(N(ln)))&&c()};return n.createElement("div",{ref:r,className:Y(N(st()),t===0&&N(st("current")),N(ht)),onClick:h,style:g},w())}function Kn(){const e=ue().styles.slide;return n.createElement("div",{className:N("slide"),style:e})}function jn({carousel:e}){const{slides:t,currentIndex:r,globalIndex:o}=Pe(),{setCarouselRef:s}=fe(),c=_e(e.spacing),i=_e(e.padding),a=_n(e,t,1),f=[];if(yt(t))for(let u=r-a;u<=r+a;u+=1){const v=Rt(t,u),g=o-r+u,w=e.finite&&(u<0||u>t.length-1);f.push(w?{key:g}:{key:[`${g}`,xn(v)].filter(Boolean).join("|"),offset:u-r,slide:v})}return n.createElement("div",{ref:s,className:Y(N(q()),f.length>0&&N(q("with_slides"))),style:{[`${U(q("slides_count"))}`]:f.length,[`${U(q("spacing_px"))}`]:c.pixel||0,[`${U(q("spacing_percent"))}`]:c.percent||0,[`${U(q("padding_px"))}`]:i.pixel||0,[`${U(q("padding_percent"))}`]:i.percent||0}},f.map(({key:u,slide:v,offset:g})=>v?n.createElement(Xn,{key:u,slide:v,offset:g}):n.createElement(Kn,{key:u})))}const zn=Z(dt,jn);function Ft(){const{carousel:e}=ue(),{slides:t,currentIndex:r}=Pe(),o=t.length===0||e.finite&&r===0,s=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:o,nextDisabled:s}}function Yn(e){var t;const r=He(),{publish:o}=Ce(),{animation:s}=ue(),{prevDisabled:c,nextDisabled:i}=Ft(),a=((t=s.navigation)!==null&&t!==void 0?t:s.swipe)/2,f=rt(()=>o(Q),a),u=rt(()=>o(J),a),v=M(g=>{switch(g.key){case un:o(te);break;case dn:(r?i:c)||(r?u:f)();break;case fn:(r?c:i)||(r?f:u)();break}});n.useEffect(()=>e(bt,v),[e,v])}function it({label:e,icon:t,renderIcon:r,action:o,onClick:s,disabled:c,style:i}){return n.createElement(Wt,{label:e,icon:t,renderIcon:r,className:N(`navigation_${o}`),disabled:c,onClick:s,style:i,...kn(fe().focus,c)})}function Gn({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:s}){const{prev:c,next:i,subscribeSensors:a}=fe(),{prevDisabled:f,nextDisabled:u}=Ft();return Yn(a),n.createElement(n.Fragment,null,e?e():n.createElement(it,{label:"Previous",action:Q,icon:Rn,renderIcon:r,style:s.navigationPrev,disabled:f,onClick:c}),t?t():n.createElement(it,{label:"Next",action:J,icon:On,renderIcon:o,style:s.navigationNext,disabled:u,onClick:i}))}const qn=Z(tn,Gn),ct=N(cn),Qn=N(mt);function Jn(e){return"style"in e}function lt(e,t,r){const o=window.getComputedStyle(e),s=r?"padding-left":"padding-right",c=r?o.paddingLeft:o.paddingRight,i=e.style.getPropertyValue(s);return e.style.setProperty(s,`${(be(c)||0)+t}px`),()=>{i?e.style.setProperty(s,i):e.style.removeProperty(s)}}function Zn({noScroll:{disabled:e},children:t}){const r=He();return re(()=>{if(e)return()=>{};const o=[],{body:s,documentElement:c}=document,i=Math.round(window.innerWidth-c.clientWidth);if(i>0){o.push(lt(s,i,r));const a=s.getElementsByTagName("*");for(let f=0;f<a.length;f+=1){const u=a[f];Jn(u)&&window.getComputedStyle(u).getPropertyValue("position")==="fixed"&&!u.classList.contains(Qn)&&o.push(lt(u,i,r))}}return s.classList.add(ct),()=>{s.classList.remove(ct),o.forEach(a=>a())}},[r,e]),n.createElement(n.Fragment,null,t)}const er=Z(nn,Zn);function at(e){return ae(Fe,e)}function ut(e,t,r){const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o?e.setAttribute(t,o):e.removeAttribute(t)}}function tr({children:e,animation:t,styles:r,className:o,on:s,portal:c,close:i}){const[a,f]=n.useState(!1),[u,v]=n.useState(!1),g=n.useRef([]),w=n.useRef(null),{setTimeout:h}=Ne(),{subscribe:p}=Ce(),m=$t()?0:t.fade;n.useEffect(()=>(f(!0),()=>{f(!1),v(!1)}),[]);const L=M(()=>{g.current.forEach(_=>_()),g.current=[]}),C=M(()=>{var _;v(!1),L(),(_=s.exiting)===null||_===void 0||_.call(s),h(()=>{var P;(P=s.exited)===null||P===void 0||P.call(s),i()},m)});n.useEffect(()=>p(te,C),[p,C]);const R=M(_=>{var P,S,A;_.scrollTop,v(!0),(P=s.entering)===null||P===void 0||P.call(s);const E=(A=(S=_.parentNode)===null||S===void 0?void 0:S.children)!==null&&A!==void 0?A:[];for(let x=0;x<E.length;x+=1){const I=E[x];["TEMPLATE","SCRIPT","STYLE"].indexOf(I.tagName)===-1&&I!==_&&(g.current.push(ut(I,"inert","true")),g.current.push(ut(I,"aria-hidden","true")))}g.current.push(()=>{var x,I;(I=(x=w.current)===null||x===void 0?void 0:x.focus)===null||I===void 0||I.call(x)}),h(()=>{var x;(x=s.entered)===null||x===void 0||x.call(s)},m)}),D=n.useCallback(_=>{_?R(_):L()},[R,L]);return a?Yt.createPortal(n.createElement("div",{ref:D,className:Y(o,N("root"),N(at()),N(mt),u&&N(at("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==Ve.animation.fade?{[U("fade_animation_duration")]:`${m}ms`}:null,...t.easing.fade!==Ve.animation.easing.fade?{[U("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:_=>{w.current||(w.current=_.relatedTarget)}},e),c.root||document.body):null}const nr=Z(Fe,tr);function rr({children:e}){return n.createElement(n.Fragment,null,e)}const or=Z(rn,rr);function sr(e){return ae(pt,e)}function ir({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:s,setToolbarWidth:c}=fe(),{setContainerRef:i,containerRect:a}=Ut();re(()=>{c(a==null?void 0:a.width)},[c,a==null?void 0:a.width]);const f=()=>t?t():n.createElement(Wt,{key:te,label:"Close",icon:yn,renderIcon:r,onClick:s});return n.createElement("div",{ref:i,style:o.toolbar,className:N(sr())},e==null?void 0:e.map(u=>u===te?f():u))}const cr=Z(pt,ir);function Bt(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(o=>Bt(o,t)))}function lr(e,t={}){const{easing:r,...o}=e,{easing:s,...c}=t;return{easing:{...r,...s},...o,...c}}function ar({carousel:e,animation:t,render:r,toolbar:o,controller:s,noScroll:c,on:i,plugins:a,slides:f,index:u,...v}){const{animation:g,carousel:w,render:h,toolbar:p,controller:l,noScroll:m,on:L,slides:C,index:R,plugins:D,..._}=Ve,{config:P,augmentation:S}=bn([T(nr,[T(er,[T(Hn,[T(zn),T(cr),T(qn)])])])],a||D),A=S({animation:lr(g,t),carousel:{...w,...e},render:{...h,...r},toolbar:{...p,...o},controller:{...l,...s},noScroll:{...m,...c},on:{...L,...i},..._,...v});return A.open?n.createElement(Pn,{...A},n.createElement(Ln,{slides:f||C,index:be(u||R)},n.createElement(In,null,n.createElement(Cn,null,Bt(T(or,P),A))))):null}const ur=(e,t)=>{const r=n.useRef(e),o=n.useRef(Date.now());return n.useEffect(()=>{r.current=e},[e]),n.useCallback((...s)=>{Date.now()-o.current>=t&&(r.current(...s),o.current=Date.now())},[t])},pr=()=>{const e=Gt(),[t,r]=n.useState(!1),[o,s]=n.useState(0),c=Ee(Qt),i=Ee(Jt),a=Ee(Zt),f=Ee(en),u=c.map(l=>({src:l.imageUrl,caption:l.alt})),v=async()=>{if(console.log("CURRENT PAGE: ",f),a&&!i)e(qt(f+1));else return console.log("No more results"),null},g=l=>window.innerHeight*(l/100),h=ur(()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-g(40)&&v()},300);n.useEffect(()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}),[h]);const p=()=>c.map((l,m)=>z.jsx("div",{className:le.imageContainer,onClick:()=>{s(m),r(!0)},children:z.jsx("img",{src:l.imageUrl,alt:l.alt,loading:"lazy"})},l.id));return z.jsxs(z.Fragment,{children:[z.jsx("div",{className:le.wrapper,children:z.jsxs("div",{className:le.wrapperContent,children:[z.jsx("h2",{className:le.titleMain,children:"Galeria"}),z.jsx("div",{className:le.gridContainer,children:p()})]})}),t&&z.jsx(ar,{index:o,on:{view:({index:l})=>s(l)},open:t,close:()=>r(!1),slides:u})]})};export{pr as default};
